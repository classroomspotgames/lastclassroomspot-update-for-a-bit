<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ClassroomSpot</title>
<link rel="stylesheet" href="style.css">

<style>
body{margin:0;font-family:Arial,sans-serif;background:#000;color:white}
.games-grid{
 display:grid;
 grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
 gap:30px;
 padding:30px;
}
.game-card{
 width:120px;
 height:120px;
 border-radius:50%;
 background-size:cover;
 background-position:center;
 display:flex;
 align-items:flex-end;
 justify-content:center;
 cursor:pointer;
 transition:transform .15s ease, box-shadow .15s ease;
 box-shadow:0 0 15px rgba(0,0,0,.6);
}
.game-card:hover{transform:scale(1.08)}
.game-name{
 background:rgba(0,0,0,.6);
 width:100%;
 text-align:center;
 font-size:13px;
 padding:6px 0;
 border-radius:0 0 50% 50%;
}
</style>

</head>
<body>

<button onclick="parent.closeWindow()" style="position:fixed;top:10px;right:10px;z-index:9999;background:#e50914;color:white;border:none;border-radius:50%;width:40px;height:40px;font-size:20px;cursor:pointer;box-shadow:0 2px 10px rgba(0,0,0,0.5);display:flex;align-items:center;justify-content:center;font-family:Arial,sans-serif;">✕</button>

<nav class="nav">
  <span class="logo">ClassroomSpot</span>
</nav>

<div class="topbar">
  <span id="total">Total games: loading…</span>
  <input id="search" placeholder="Search games…">
</div>

<div id="games" class="games-grid"></div>

<script>
const gamesEl = document.getElementById("games");
const search = document.getElementById("search");
const totalEl = document.getElementById("total");

const ZONES = "https://cdn.jsdelivr.net/gh/gn-math/assets@main/zones.json";
const COVER = "https://cdn.jsdelivr.net/gh/gn-math/covers@main";
const HTML = "https://cdn.jsdelivr.net/gh/gn-math/html@main";

let games = [];
const ROBLOX_IMAGE = "https://tse3.mm.bing.net/th/id/OIP.Suu0wkaP6duvpXY_gWJucgAAAA?rs=1&pid=ImgDetMain&o=7&rm=3";
const GTA_IMAGE = "https://tse2.mm.bing.net/th/id/OIP.T6kQS4BQ4CCT6jlXGtAuDgHaE7?rs=1&pid=ImgDetMain&o=7&rm=3";

function addRoblox(){
 const card=document.createElement("div");
 card.className="game-card";
 card.style.backgroundImage="url("+ROBLOX_IMAGE+")";
 card.style.backgroundSize="cover";
 card.style.backgroundPosition="center";
 const label=document.createElement("div");
 label.className="game-name";
 label.textContent="Roblox";
 card.appendChild(label);
 card.onclick=()=>parent.openWindow("https://nowgg.fun","Roblox");
 gamesEl.appendChild(card);
}

function addGTAViceCity(){
 const card=document.createElement("div");
 card.className="game-card";
 card.style.backgroundImage="url("+GTA_IMAGE+")";
 card.style.backgroundSize="cover";
 card.style.backgroundPosition="center";
 const label=document.createElement("div");
 label.className="game-name";
 label.textContent="GTA Vice City";
 card.appendChild(label);
 card.onclick=()=>parent.openWindow("https://t9os.vercel.app/gtavc.html","GTA Vice City");
 gamesEl.appendChild(card);
}

fetch(ZONES+"?t="+Date.now()).then(r=>r.json()).then(data=>{
 games=data.filter(g=>!g.name.toLowerCase().includes("suggest"));
 totalEl.textContent="Total games: "+(games.length+2);
 render(games);
});

function render(list){
 gamesEl.innerHTML="";
 addRoblox();
 addGTAViceCity();
 list.forEach(g=>{
  const card=document.createElement("div");
  card.className="game-card";
  card.style.backgroundImage="url("+g.cover.replace("{COVER_URL}",COVER).replace("{HTML_URL}",HTML)+")";
  const label=document.createElement("div");
  label.className="game-name";
  label.textContent=g.name;
  card.appendChild(label);
  card.onclick=()=>openGame(g);
  gamesEl.appendChild(card);
 });
}

search.oninput=()=>{
 const q=search.value.toLowerCase();
 render(games.filter(g=>g.name.toLowerCase().includes(q)));
};

function openGame(g){
 const win=window.open("about:blank");
 fetch(g.url.replace("{HTML_URL}",HTML)).then(r=>r.text()).then(t=>{
  win.document.open();
  win.document.write(t);
  win.document.close();
 });
}
</script>

</body>

</html>